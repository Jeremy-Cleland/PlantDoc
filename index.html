<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PlantDoc - Plant Disease Classification</title>
    <style>
        :root {
            --bg-primary: #09090b;
            --bg-secondary: #111113;
            --bg-tertiary: #1a1a1d;
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            --text-tertiary: #94a3b8;
            --accent-primary: #7B3210;
            --accent-secondary: #7B3210;
            --accent-tertiary: #b5fdbc;
            --border-radius: 15px;
            --card-radius: 15px;
            --shadow: 0 4px 16px rgba(23,23,23,0.5);
            --transition: all 0.3s ease;
            --border-color: #281C16;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "SF Pro Display", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            padding: 2rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            margin-bottom: 2rem;
            text-align: center;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-tertiary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .content-section {
            background-color: var(--bg-secondary);
            border-radius: var(--card-radius);
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
        }

        .section-title {
            font-size: 1.75rem;
            margin-bottom: 1rem;
            color: var(--accent-tertiary);
        }

        .reports-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .report-card {
            background-color: var(--bg-secondary);
            border-radius: var(--card-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .report-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(23,23,23,0.6);
        }

        .report-header {
            padding: 1.5rem;
            background-color: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
        }

        .report-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .report-subtitle {
            color: var(--text-tertiary);
            font-size: 0.9rem;
        }

        .report-body {
            padding: 1.5rem;
        }

        .metrics {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .metric {
            background-color: var(--bg-tertiary);
            padding: 0.75rem;
            border-radius: var(--border-radius);
        }

        .metric-label {
            font-size: 0.75rem;
            color: var(--text-tertiary);
            margin-bottom: 0.25rem;
        }

        .metric-value {
            font-size: 1.25rem;
            font-weight: 600;
        }

        .report-footer {
            padding: 1.5rem;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            border: none;
        }

        .btn-primary {
            background-color: var(--accent-primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--accent-primary);
            opacity: 0.9;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
        }

        .btn-outline:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .github-link {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 2rem;
            padding: 1rem;
            background-color: var(--bg-secondary);
            border-radius: var(--border-radius);
            text-decoration: none;
            color: var(--text-primary);
            gap: 0.5rem;
            transition: var(--transition);
        }

        .github-link:hover {
            background-color: var(--bg-tertiary);
        }

        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-top: 1rem;
        }

        .tech-badge {
            background-color: var(--bg-tertiary);
            padding: 0.5rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            color: var(--text-tertiary);
        }

        .image-container {
            margin: 1.5rem 0;
            display: flex;
            justify-content: center;
        }

        .project-image {
            max-width: 100%;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .chart-container {
            background-color: var(--bg-tertiary);
            padding: 1rem;
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }

        .data-table th, .data-table td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .data-table th {
            background-color: var(--bg-tertiary);
            color: var(--text-tertiary);
            font-weight: 500;
            font-size: 0.875rem;
        }

        .data-table tbody tr:hover {
            background-color: rgba(255, 255, 255, 0.03);
        }

        .progress-container {
            width: 100%;
            height: 8px;
            background-color: var(--bg-tertiary);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 0.5rem;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-tertiary));
            border-radius: 4px;
        }

        @media (max-width: 768px) {
            .reports-grid {
                grid-template-columns: 1fr;
            }
            
            .metrics-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>PlantDoc: Plant Disease Classification</h1>
            <p class="subtitle">
                A state-of-the-art deep learning system for plant disease identification using CBAM-augmented ResNet18
            </p>
        </header>

        <!-- Introduction Section -->
        <section class="content-section">
            <h2 class="section-title">Introduction</h2>
            <p>
                PlantDoc is a complete implementation of a plant disease classification system using a CBAM (Convolutional Block Attention Module) augmented ResNet18 architecture. The system is designed to accurately identify various plant diseases from images, leveraging attention mechanisms to focus on the most relevant features for diagnosis.
            </p>
            <p>
                Plant diseases cause significant crop losses worldwide, with estimates suggesting 20-40% of global crop production is lost to pests and diseases annually. Early and accurate detection is crucial for effective management and sustainable agriculture. Traditional disease diagnosis relies on manual inspection by experts, which is time-consuming and often subjective.
            </p>
            <p>
                This project implements a state-of-the-art deep learning approach that combines ResNet18 with attention mechanisms to improve classification accuracy for plant disease diagnosis, enabling faster and more reliable identification of diseases across 39 different plant disease classes.
            </p>
            <div class="tech-stack">
                <span class="tech-badge">PyTorch 2.1+</span>
                <span class="tech-badge">Python 3.8+</span>
                <span class="tech-badge">CBAM Attention</span>
                <span class="tech-badge">ResNet18</span>
                <span class="tech-badge">Deep Learning</span>
            </div>
            <div class="image-container">
                <img src="outputs/cbam_only_resnet18_v1/reports/plots/classification_examples.png" alt="Classification examples" class="project-image">
            </div>
        </section>

        <!-- Dataset Statistics Section -->
        <section class="content-section">
            <h2 class="section-title">Dataset Overview</h2>
            <p>
                The PlantDoc project utilizes a comprehensive plant disease dataset with the following characteristics:
            </p>
            
            <div class="metrics-grid">
                <div class="metric">
                    <div class="metric-label">Total Classes</div>
                    <div class="metric-value">39</div>
                </div>
                <div class="metric">
                    <div class="metric-label">Total Images</div>
                    <div class="metric-value">61,486</div>
                </div>
                <div class="metric">
                    <div class="metric-label">Image Format</div>
                    <div class="metric-value">JPEG (100%)</div>
                </div>
                <div class="metric">
                    <div class="metric-label">Median Resolution</div>
                    <div class="metric-value">256Ã—256 px</div>
                </div>
            </div>
            
            <h3 style="margin-top: 1.5rem; color: var(--accent-tertiary);">Class Distribution</h3>
            <p>
                The dataset exhibits a significant class imbalance, with the largest class containing 5,507 images (Orange_Haunglongbing_Citrus_greening) and the smallest containing around 1,000 images. The ratio of largest to smallest class is approximately 5.5:1.
            </p>
            
            <div class="chart-container">
                <p>Top 5 largest classes:</p>
                <div style="margin-top: 1rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                        <span>Orange_Haunglongbing_Citrus_greening (8.96%)</span>
                        <span>5,507</span>
                    </div>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 89.6%;"></div>
                    </div>
                </div>
                <div style="margin-top: 1rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                        <span>Tomato_Yellow_Leaf_Curl_Virus (8.71%)</span>
                        <span>5,357</span>
                    </div>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 87.1%;"></div>
                    </div>
                </div>
                <div style="margin-top: 1rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                        <span>Soybean_healthy (8.28%)</span>
                        <span>5,090</span>
                    </div>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 82.8%;"></div>
                    </div>
                </div>
                <div style="margin-top: 1rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                        <span>Peach_Bacterial_spot (3.74%)</span>
                        <span>2,297</span>
                    </div>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 37.4%;"></div>
                    </div>
                </div>
                <div style="margin-top: 1rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                        <span>Tomato_Bacterial_spot (3.46%)</span>
                        <span>2,127</span>
                    </div>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 34.6%;"></div>
                    </div>
                </div>
            </div>
            
            <h3 style="margin-top: 1.5rem; color: var(--accent-tertiary);">Image Properties</h3>
            <div class="metrics-grid">
                <div class="metric">
                    <div class="metric-label">Width Range</div>
                    <div class="metric-value">204-350 px</div>
                </div>
                <div class="metric">
                    <div class="metric-label">Height Range</div>
                    <div class="metric-value">192-350 px</div>
                </div>
                <div class="metric">
                    <div class="metric-label">Square Images</div>
                    <div class="metric-value">97.84%</div>
                </div>
                <div class="metric">
                    <div class="metric-label">Avg. File Size</div>
                    <div class="metric-value">14.96 KB</div>
                </div>
            </div>
            
            <p style="margin-top: 1.5rem;">
                The relatively consistent image dimensions and predominantly square aspect ratios make this dataset well-suited for deep learning approaches without requiring extensive preprocessing for size normalization.
            </p>
        </section>

        <!-- Methodology Section -->
        <section class="content-section">
            <h2 class="section-title">Methodology</h2>
            <p>
                The PlantDoc system leverages a dual-attention enhanced architecture to significantly improve classification performance. The key components of our methodology include:
            </p>
            <h3 style="margin-top: 1.5rem; color: var(--accent-tertiary);">CBAM: Dual Attention Mechanism</h3>
            <p>
                CBAM sequentially infers attention maps along two separate dimensions:
            </p>
            <ol style="margin-left: 1.5rem; margin-top: 0.5rem;">
                <li><strong>Channel Attention Module:</strong> Focuses on "what" is meaningful in the input image channels by applying attention weights to emphasize important feature channels using average and max pooling operations processed through shared MLPs.</li>
                <li><strong>Spatial Attention Module:</strong> Focuses on "where" the informative parts are located in the feature map, generating 2D spatial attention using aggregated channel information through convolutional layers.</li>
                <li><strong>Integration with ResNet:</strong> CBAM blocks are inserted after each residual block in the ResNet18 architecture, refining feature representations at multiple levels of abstraction.</li>
            </ol>
            <p>
                This dual attention mechanism allows the model to dynamically emphasize salient features in both channel and spatial dimensions, leading to improved performance, especially on images with complex backgrounds or subtle disease symptoms.
            </p>
            <h3 style="margin-top: 1.5rem; color: var(--accent-tertiary);">Data and Preprocessing</h3>
            <p>
                The project implements a comprehensive data pipeline including:
            </p>
            <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                <li>Advanced preprocessing with the Albumentations library</li>
                <li>State-of-the-art augmentation strategies (RandAugment, CutMix, MixUp)</li>
                <li>Automatic data validation and integrity checking</li>
                <li>Class balancing techniques to handle uneven distributions</li>
            </ul>
            <div class="image-container">
                <img src="outputs/cbam_only_resnet18_v1/reports/plots/confusion_matrix.png" alt="Confusion Matrix" class="project-image">
            </div>
        </section>

        <!-- Class Performance Metrics Section -->
        <section class="content-section">
            <h2 class="section-title">Class Performance Metrics</h2>
            <p>
                Our models demonstrate excellent performance across all evaluated metrics. The training process shows consistent improvement in accuracy and confidence over time.
            </p>
            
            <h3 style="margin-top: 1.5rem; color: var(--accent-tertiary);">Training Progression</h3>
            
            <div class="metrics-grid">
                <div class="chart-container">
                    <h4 style="margin-bottom: 1rem;">Model v1 Metrics</h4>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Epoch</th>
                                <th>Accuracy</th>
                                <th>Mean Confidence</th>
                                <th>ECE</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>77.38%</td>
                                <td>41.23%</td>
                                <td>0.362</td>
                            </tr>
                            <tr>
                                <td>10</td>
                                <td>93.98%</td>
                                <td>82.32%</td>
                                <td>0.117</td>
                            </tr>
                            <tr>
                                <td>20</td>
                                <td>95.92%</td>
                                <td>85.79%</td>
                                <td>0.101</td>
                            </tr>
                            <tr>
                                <td>30</td>
                                <td>96.43%</td>
                                <td>87.14%</td>
                                <td>0.093</td>
                            </tr>
                            <tr>
                                <td>Final</td>
                                <td>97.46%</td>
                                <td>89.25%</td>
                                <td>0.082</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="chart-container">
                    <h4 style="margin-bottom: 1rem;">Model v2 Metrics</h4>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Epoch</th>
                                <th>Accuracy</th>
                                <th>Mean Confidence</th>
                                <th>ECE</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>77.88%</td>
                                <td>42.70%</td>
                                <td>0.352</td>
                            </tr>
                            <tr>
                                <td>10</td>
                                <td>94.22%</td>
                                <td>81.98%</td>
                                <td>0.123</td>
                            </tr>
                            <tr>
                                <td>20</td>
                                <td>96.05%</td>
                                <td>85.92%</td>
                                <td>0.101</td>
                            </tr>
                            <tr>
                                <td>30</td>
                                <td>96.39%</td>
                                <td>87.39%</td>
                                <td>0.090</td>
                            </tr>
                            <tr>
                                <td>Final</td>
                                <td>98.12%</td>
                                <td>90.12%</td>
                                <td>0.078</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <p>
                Both models demonstrate similar training patterns, with v2 achieving a slightly higher final accuracy (98.12% vs 97.46%) and mean confidence (90.12% vs 89.25%).
            </p>
            
            <h3 style="margin-top: 1.5rem; color: var(--accent-tertiary);">Confidence Distribution</h3>
            <p>
                The models become increasingly well-calibrated over time, as shown by the decreasing Expected Calibration Error (ECE). This indicates that the predicted confidence levels closely match the actual accuracy of predictions.
            </p>
            
            <div class="image-container">
                <img src="outputs/cbam_only_resnet18_v1/reports/plots/confidence_distribution.png" alt="Confidence Distribution" class="project-image">
            </div>
            
            <p>
                By the final epoch, both models show high confidence (>85%) for the vast majority of predictions, with minimal low-confidence predictions. This demonstrates the models' ability to make decisive classifications with high certainty.
            </p>
        </section>

        <!-- Experiments Section -->
        <section class="content-section">
            <h2 class="section-title">Experiments</h2>
            <p>
                Multiple experimental configurations were evaluated to determine the optimal architecture and training strategy. Key experiments included:
            </p>
            <h3 style="margin-top: 1.5rem; color: var(--accent-tertiary);">Training Approach</h3>
            <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                <li><strong>Mixed Precision Training:</strong> FP16 implementation for faster training without sacrificing accuracy</li>
                <li><strong>Adaptive Optimization:</strong> Using AdamW optimizer with cosine annealing learning rate scheduling</li>
                <li><strong>Regularization Techniques:</strong> Dropout, weight decay, and stochastic weight averaging for enhanced generalization</li>
            </ul>
            <h3 style="margin-top: 1.5rem; color: var(--accent-tertiary);">Model Variants</h3>
            <p>
                Two primary model variants were systematically explored:
            </p>
            <ol style="margin-left: 1.5rem; margin-top: 0.5rem;">
                <li><strong>CBAM-ResNet18 v1:</strong> The initial implementation with baseline attention parameters</li>
                <li><strong>CBAM-ResNet18 v2:</strong> An improved version with optimized attention parameters and enhanced data augmentation strategies</li>
            </ol>
            <p>
                Both models were evaluated using a comprehensive set of metrics including accuracy, precision, recall, F1 score, confusion matrices, ROC curves, and precision-recall curves to provide a holistic performance assessment.
            </p>
            <div class="image-container">
                <img src="outputs/cbam_only_resnet18_v1/reports/plots/training_history.png" alt="Training History" class="project-image">
            </div>
        </section>

        <!-- Conclusion Section -->
        <section class="content-section">
            <h2 class="section-title">Conclusion</h2>
            <p>
                The CBAM-augmented ResNet18 architecture demonstrates significant improvements over standard classification approaches for plant disease identification. Key findings include:
            </p>
            <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                <li>The dual attention mechanism (channel + spatial) significantly improves model performance by helping the network focus on disease-relevant features</li>
                <li>Our approach achieves excellent accuracy (>97%) across 39 diverse plant disease classes</li>
                <li>Attention mechanisms particularly improve performance on challenging cases with subtle symptoms or complex backgrounds</li>
                <li>The model demonstrates strong generalization capabilities, maintaining high accuracy across varied imaging conditions</li>
            </ul>
            <p>
                These results highlight the potential of attention-enhanced deep learning approaches for practical agricultural applications. By providing accurate, reliable disease identification, this system could significantly contribute to sustainable farming practices through early detection and targeted treatment of plant diseases.
            </p>
            <h3 style="margin-top: 1.5rem; color: var(--accent-tertiary);">Future Work</h3>
            <p>
                Ongoing and planned improvements to the PlantDoc system include:
            </p>
            <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                <li>Mobile-optimized model variants for field deployment</li>
                <li>Multi-label classification for detecting multiple diseases in a single image</li>
                <li>Disease severity grading capabilities</li>
                <li>Integration with drone/robotic platforms for automated field scouting</li>
            </ul>
            <div class="image-container">
                <img src="outputs/cbam_only_resnet18_v1/reports/plots/roc_curves.png" alt="ROC Curves" class="project-image">
            </div>
        </section>

        <h2 class="section-title" style="margin-top: 2rem;">Model Training Reports</h2>
        <div class="reports-grid">
            <!-- Version 1 Report -->
            <div class="report-card">
                <div class="report-header">
                    <h2 class="report-title">CBAM-ResNet18 v1</h2>
                    <p class="report-subtitle">Plant Disease Classification Model v1</p>
                </div>
                <div class="report-body">
                    <div class="metrics">
                        <div class="metric">
                            <div class="metric-label">Accuracy</div>
                            <div class="metric-value">97.46%</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">F1 Score</div>
                            <div class="metric-value">99.16%</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Precision</div>
                            <div class="metric-value">99.21%</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Recall</div>
                            <div class="metric-value">99.17%</div>
                        </div>
                    </div>
                    <p>Detailed performance report for CBAM-augmented ResNet18 model trained for multi-class classification with 39 classes.</p>
                </div>
                <div class="report-footer">
                    <a href="outputs/cbam_only_resnet18_v1/reports/training_report.html" class="btn btn-primary">
                        <i class="fas fa-chart-line"></i>
                        <span>View Report</span>
                    </a>
                    <button class="btn btn-outline">
                        <i class="fas fa-download"></i>
                        <span>Download</span>
                    </button>
                </div>
            </div>

            <!-- Version 2 Report -->
            <div class="report-card">
                <div class="report-header">
                    <h2 class="report-title">CBAM-ResNet18 v2</h2>
                    <p class="report-subtitle">Plant Disease Classification Model v2</p>
                </div>
                <div class="report-body">
                    <div class="metrics">
                        <div class="metric">
                            <div class="metric-label">Accuracy</div>
                            <div class="metric-value">98.12%</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">F1 Score</div>
                            <div class="metric-value">99.35%</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Precision</div>
                            <div class="metric-value">99.41%</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Recall</div>
                            <div class="metric-value">99.33%</div>
                        </div>
                    </div>
                    <p>Detailed performance report for improved CBAM-augmented ResNet18 model (v2) with enhanced data augmentation strategies.</p>
                </div>
                <div class="report-footer">
                    <a href="outputs/cbam_only_resnet18_v2/reports/training_report.html" class="btn btn-primary">
                        <i class="fas fa-chart-line"></i>
                        <span>View Report</span>
                    </a>
                    <button class="btn btn-outline">
                        <i class="fas fa-download"></i>
                        <span>Download</span>
                    </button>
                </div>
            </div>
        </div>

        <a href="https://github.com/Jeremy-Cleland/PlantDoc" class="github-link">
            <i class="fab fa-github fa-lg"></i>
            <span>View on GitHub</span>
        </a>
    </div>
</body>
</html>
